<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dirigo Sea Farm Dashboard - Debug</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
      background: #f5f5f5;
    }
    .debug-info {
      background: yellow;
      padding: 10px;
      margin: 10px 0;
      border: 2px solid red;
    }
    .tab-button {
      padding: 10px 20px;
      margin: 5px;
      cursor: pointer;
      background: #ddd;
      border: none;
      border-radius: 5px;
    }
    .tab-button.active {
      background: #007bff;
      color: white;
    }
    .tab-content {
      display: none;
      padding: 20px;
      background: white;
      margin-top: 20px;
      border-radius: 5px;
    }
    .tab-content.active {
      display: block;
    }
    .slider-group {
      margin: 20px 0;
      padding: 15px;
      background: #f9f9f9;
      border-radius: 5px;
    }
    input[type="range"] {
      width: 100%;
    }
    .value-display {
      font-weight: bold;
      color: #007bff;
    }
  </style>
</head>
<body>
  <h1>Dirigo Sea Farm Dashboard - Debug Version</h1>
  
  <div class="debug-info" id="debug">
    JavaScript Status: <span id="js-status">Checking...</span>
  </div>

  <!-- Simple Tab Test -->
  <div>
    <button class="tab-button active" data-tab="tab1">Tab 1</button>
    <button class="tab-button" data-tab="tab2">Tab 2</button>
    <button class="tab-button" data-tab="tab3">Tab 3</button>
  </div>

  <div id="tab1" class="tab-content active">
    <h2>Tab 1 Content</h2>
    <div class="slider-group">
      <label>Test Slider 1: <span id="val1" class="value-display">50</span></label>
      <input type="range" id="slider1" min="0" max="100" value="50">
    </div>
  </div>

  <div id="tab2" class="tab-content">
    <h2>Tab 2 Content</h2>
    <div class="slider-group">
      <label>Test Slider 2: <span id="val2" class="value-display">25</span></label>
      <input type="range" id="slider2" min="0" max="50" value="25">
    </div>
  </div>

  <div id="tab3" class="tab-content">
    <h2>Tab 3 Content - Calculation Test</h2>
    <div class="slider-group">
      <label>Seaweed Price ($/lb): <span id="seaweedVal" class="value-display">8.00</span></label>
      <input type="range" id="seaweedSlider" min="4" max="15" step="0.25" value="8">
    </div>
    <div class="slider-group">
      <label>Alginate Yield (%): <span id="yieldVal" class="value-display">12</span></label>
      <input type="range" id="yieldSlider" min="8" max="20" step="0.5" value="12">
    </div>
    <p>Calculated COG: $<span id="cogResult" class="value-display">0.00</span>/lb</p>
  </div>

  <script>
    // Debug: Check if JavaScript is running
    document.getElementById('js-status').textContent = 'JavaScript is working!';
    document.getElementById('js-status').style.color = 'green';
    
    // Simple tab switching
    const tabButtons = document.querySelectorAll('.tab-button');
    const tabContents = document.querySelectorAll('.tab-content');
    
    console.log('Found ' + tabButtons.length + ' tab buttons');
    console.log('Found ' + tabContents.length + ' tab contents');
    
    tabButtons.forEach(function(button) {
      button.addEventListener('click', function() {
        console.log('Tab clicked: ' + this.getAttribute('data-tab'));
        
        // Remove active class from all
        tabButtons.forEach(function(btn) {
          btn.classList.remove('active');
        });
        tabContents.forEach(function(content) {
          content.classList.remove('active');
        });
        
        // Add active class to clicked
        this.classList.add('active');
        const tabId = this.getAttribute('data-tab');
        const tabContent = document.getElementById(tabId);
        if (tabContent) {
          tabContent.classList.add('active');
        }
      });
    });
    
    // Simple slider updates
    document.getElementById('slider1').addEventListener('input', function() {
      document.getElementById('val1').textContent = this.value;
      console.log('Slider 1 changed to: ' + this.value);
    });
    
    document.getElementById('slider2').addEventListener('input', function() {
      document.getElementById('val2').textContent = this.value;
      console.log('Slider 2 changed to: ' + this.value);
    });
    
    // Calculation test
    function updateCalculation() {
      const seaweedPrice = parseFloat(document.getElementById('seaweedSlider').value);
      const yieldPercent = parseFloat(document.getElementById('yieldSlider').value);
      
      document.getElementById('seaweedVal').textContent = seaweedPrice.toFixed(2);
      document.getElementById('yieldVal').textContent = yieldPercent;
      
      // Simple COG calculation
      const cog = (seaweedPrice * 6) / (6 * yieldPercent / 100);
      document.getElementById('cogResult').textContent = cog.toFixed(2);
      
      console.log('Calculation updated: COG = ' + cog.toFixed(2));
    }
    
    document.getElementById('seaweedSlider').addEventListener('input', updateCalculation);
    document.getElementById('yieldSlider').addEventListener('input', updateCalculation);
    
    // Initial calculation
    updateCalculation();
    
    console.log('Script fully loaded and executed');
  </script>
</body>
</html>
